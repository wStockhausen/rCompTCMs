% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/computeDiffs.R
\name{computeDiffs}
\alias{computeDiffs}
\title{Compute differences between model cases}
\usage{
computeDiffs(
  x,
  base = 1,
  cast = "process+fleet+category+type+pc+x+m+s+z+y",
  fun = wtsUtilities::Sum,
  type = c("percent", "absolute")
)
}
\arguments{
\item{x}{\itemize{
\item dataframe in canonical format to cast for differences
}}

\item{base}{\itemize{
\item name (or number) of case to use as base
}}

\item{cast}{\itemize{
\item cast'ing factors (left side of \code{\link[reshape2:cast]{reshape2::dcast()}} cast'ing equation, with "case" on the righthand side)
}}

\item{fun}{\itemize{
\item aggregation function (default is \code{\link[wtsUtilities:Sum]{wtsUtilities::Sum()}})
}}

\item{type}{\itemize{
\item type of difference ("absolute" or "percent")
}}
}
\value{
a dataframe (see details)
}
\description{
Function to compute differences between model cases
}
\details{
Uses \code{\link[reshape2:cast]{reshape2::dcast()}} to aggregate values within factor levels defined by the cast'ing formula prior to differencing.
The default cast string is "process+fleet+category+type+pc+x+m+s+z+y",
yielding the cast formula "process+fleet+category+type+pc+x+m+s+z+y~cast" (i.e., no aggregation, but possibly transformation
if \code{fun} transforms values prior to aggregating them).

The columns of the returned dataframe will include the factors included in the input cast'ing string \code{cast}, as well as
columns of the form "absdiff.base-case" or "pctdiff.base-case", where "base" and "case" are the names of the base model and subsequent
cases. Note that the latter column names can be returned to "case" by \code{colnames(xd) = gsub("^.*-","",colnames(xd))}, where
\code{x} is the result of \code{computeDiffs}.
}
